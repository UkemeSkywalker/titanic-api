replicaCount: 1

image:
  repository: ukemzyskywalker/titanic-api
  pullPolicy: IfNotPresent
  tag: "v1.0.1"

serviceAccount:
  create: true
  name: titanic-api
  annotations:
    eks.amazonaws.com/role-arn: ""

service:
  type: LoadBalancer
  port: 80
  targetPort: 5000

resources:
  requests:
    memory: "256Mi"
    cpu: "250m"
  limits:
    memory: "512Mi"
    cpu: "500m"

autoscaling:
  enabled: true
  minReplicas: 2
  maxReplicas: 10
  targetCPUUtilizationPercentage: 70
  targetMemoryUtilizationPercentage: 80

livenessProbe:
  httpGet:
    path: /people
    port: 5000
  initialDelaySeconds: 30
  periodSeconds: 10

readinessProbe:
  httpGet:
    path: /people
    port: 5000
  initialDelaySeconds: 5
  periodSeconds: 5

env:
  FLASK_ENV: production

secrets:
  dbCredentials:
    name: db-credentials
    key: database_url

strategy:
  type: RollingUpdate
  rollingUpdate:
    maxUnavailable: 0
    maxSurge: 1

revisionHistoryLimit: 10
minReadySeconds: 10
